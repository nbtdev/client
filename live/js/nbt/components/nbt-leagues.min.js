(function(){var a=angular.module("nbt.app");a.directive("nbtLeagues",function(b,d){var c=this;this.controller=function(e,g,f){e.leagues=g.leagues();c.leagueService=g;c.identityService=f};return{restrict:"E",template:"<div></div>",scope:true,controller:this.controller,controllerAs:"NbtLeaguesController",link:function(j,i,f,e){var h="en";if(f.lang){h=f.lang}var g=c.identityService.get().token;b("/templates/"+h+"/nbt-leagues/body.html").then(function(k){c.leagueService.fetchLeagues(g,function(n,m){j.leagues=n;var l=angular.element(k);i.append(d(l)(j))})})}}})})();