<div ng-controller="ControllerUserAccounts as accounts">
    <table style="width: 100%">
        <tr>
            <th>ID</th>
            <th>Login</th>
            <th>Status</th>
            <th></th>
        </tr>
        <tbody ng-repeat="user in users">
        <tr ng-click="accounts.toggleUserEdit(user)">
            <td>
                {{user.id}}
            </td>
            <td>
                <span ng-hide="accounts.isEditing(user)">{{user.login}}</span>
                <span ng-show="accounts.isEditing(user)"><input type="text" ng-model="user.login"></span>
            </td>
            <td>
                <span ng-hide="accounts.isEditing(user)">{{user.status}}</span>
                <span ng-show="accounts.isEditing(user)">
                    <select ng-model="user.status">
                        <option ng-repeat="keyval in userStatuses" value="{{keyval.shortName}}" ng-selected="user.status===keyval.shortName">{{keyval.displayName}}</option>
                    </select>
                </span>
            </td>
            <td>
                <img ng-show="accounts.showEditIcon(user)" ng-click="accounts.beginEdit(user)" title="Edit user {{user.login}}" class="tool-icon" src="/images/icons/modify-15.png">
                <img ng-show="accounts.showDeleteIcon(user)" ng-click="accounts.delete(user)" title="Delete user {{user.login}}" class="tool-icon" src="/images/icons/delete-15.png">
                <img ng-show="accounts.showApplyIcon(user)" ng-click="accounts.applyEdit(user)" title="Apply Changes And Finish Editing {{user.login}}" class="tool-icon" src="/images/icons/apply-15.png">
                <img ng-show="accounts.showCancelIcon(user)" ng-click="accounts.cancelEdit(user)" title="Cancel Edit (Without Saving)" class="tool-icon" src="/images/icons/cancel-15.png">
            </td>
        </tr>

        <!-- optional detail inset -->
        <tr ng-show="accounts.shouldShowDetailInset(user.id)">
            <td colspan="5">

            </td>
        </tr>
        </tbody>
    </table>

</div>