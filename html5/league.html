<html>
<head>
    <meta charset="ISO-8859-1">
    <link rel="shortcut icon" href="favicon.ico">
    <title>Welcome To NetBattleTech</title>

    <!-- CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link href="/css/nbt.css" rel="stylesheet" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/threejs/r83/three.js"></script>
    <script src='https://www.google.com/recaptcha/api.js' async defer></script>

    <script src="/js/gl-matrix/common.js"></script>
    <script src="/js/gl-matrix/mat4.js"></script>
    <script src="/js/gl-matrix/vec3.js"></script>
    <script src="/js/nbt/util/quadtree.js"></script>

    <script src='/js/nbt/nbt.js'></script>
    <script src='/js/nbt/util/headers.js'></script>
    <script src='/js/nbt/model/battle.js'></script>
    <script src='/js/nbt/model/league.js'></script>
    <script src='/js/nbt/model/user.js'></script>
    <script src='/js/nbt/service/league.js'></script>
    <script src='/js/nbt/service/identity.js'></script>
    <script src='/js/nbt/service/planet.js'></script>
    <script src='/js/nbt/service/battle.js'></script>
    <script src='/js/nbt/service/transport.js'></script>
    <script src='/js/nbt/service/user.js'></script>
    <script src='/js/nbt/controller/league_page.js'></script>
    <script src='/js/nbt/controller/registration.js'></script>
    <script src='/js/nbt/controller/signin.js'></script>
    <script src='/js/nbt/controller/starmap-ui.js'></script>
    <script src='/js/nbt/controller/transfer-combat-unit.js'></script>
    <script src='/js/nbt/controller/dropship-dock.js'></script>
    <script src='/js/nbt/controller/jump-controller.js'></script>
    <script src='/js/nbt/components/starmap/starmap.js'></script>
</head>
<body ng-controller="LeaguePageController as pageController"style="background-color: black;">
    <noscript>JavaScript must be enabled in your browser to use this site!</noscript>

    <input type="hidden" ng-init="page='league';" />

    <!-- header bar -->
    <div ng-include="'/fragment/navbar.html'"></div>
    <div ng-include="'/fragment/signin.html'"></div>
    <div ng-include="'/fragment/transferCombatUnit.html'"></div>
    <div ng-include="'/fragment/dockUndockDropships.html'"></div>

    <!-- content body with left and right menus -->
    <div style="height: 92%">
        <!-- left side menu -->
        <div class="col-md-1 nbt-side-bar">
            <div class="nbt-side-menu">
                <div class="nbt-side-menu-label" ng-show="showTransfer">
                    Transfer
                </div>
                <div class="nbt-side-menu-item">
                    <a href="#" ng-show="showTransferCombatUnits" data-toggle="modal" data-target="#transferCombatUnits">Combat Units</a>
                </div>
                <div class="nbt-side-menu-item">
                    <a href="#" ng-show="showDockUndockDropships" data-toggle="modal" data-target="#dockUndockDropships">Dropships</a>
                </div>
            </div>
        </div>

        <!-- center content area-->
        <div id="starmapContainer" class="col-md-10 starmapContainer">
            <starmap id="starmap">
                <planet_brief id="planetBrief" ng-show="showPlanetBrief"></planet_brief>
            </starmap>
        </div>

        <!-- right side menu -->
        <div class="col-md-1 nbt-side-bar">
            <div ng-show="showRightBar">
                <div ng-show="showJump" ng-controller="JumpController as jumpCtl">
                    <div class="nbt-side-menu-label">
                        Jump
                    </div>
                    <div class="nbt-side-menu-item">
                        <div class="nbt-label"><span class="bold">Step 1:</span> Set up jump path on starmap.</div>
                    </div>
                    <div class="nbt-side-menu-item">
                        <div class="nbt-label"><span class="bold">Step 2:</span> Select jumpship(s) to jump.</div>
                        <div>
                            <select multiple class="nbt-multi-select" ng-model="selectedJumpships">
                                <option ng-repeat="js in jumpships" value="{{js}}">{{js.name}} ({{js.owner.shortName}})</option>
                            </select>
                        </div>
                        <div ng-show="invalidJumpships.length">
                            <div class="nbt-label">The following jumpships cannot jump the selected path:</div>
                            <table>
                                <tr>
                                    <th>Jumpship</th>
                                    <th>Reason</th>
                                </tr>
                                <tr ng-repeat="js in invalidJumpships">
                                    <td>{{js.name}}</td>
                                    <td>{{js.reason}}</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="nbt-side-menu-item">
                        <div class="nbt-label"><span class="bold">Step 3:</span> Select jump type and action.</div>
                        <div class="nbt-label">Action</div>
                        <div>
                            <select ng-init="selectedJumpType=jumpTypes[0].id" ng-model="selectedJumpType" alt="This will populate automatically with valid types once the jump path and jumpships are selected">
                                <option ng-repeat="type in jumpTypes" value="{{type}}">{{type.factionClass.shortName}}: {{type.name}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="nbt-side-menu-item">
                        <div class="nbt-label">Action</div>
                        <div>
                            <select ng-init="selectedJumpAction=jumpActions[0].id" ng-model="selectedJumpAction" alt="This will populate automatically with valid actions once the jump path and jumpships are selected">
                                <option ng-repeat="action in jumpActions" value="{{action}}">{{action.name}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="nbt-side-menu-item">
                        <div class="nbt-label"><span class="bold">Step 4:</span> Execute the jump.</div>
                        <input type="button" class="nbt-button" ng-click="onExecuteJump()" value="Execute Jump">
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>