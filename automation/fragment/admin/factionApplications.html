<script src="/js/nbt/controller/admin/faction-applications.js"></script>
<div id="factionApplicationsModal" class="modal fade" tabindex="-1" role="dialog" ng-controller="FactionApplicationAdminController">
    <div class="modal-dialog modal-lg with-border">
        <div class="modal-content">
            <div class="modal-header nbt-base nbt-modal-header">
                <h4 class="modal-title text-center">Faction Applications (Admin - {{league.name}})</h4>
            </div>
            <div class="modal-body nbt-base nbt-modal-body">
                <div class="container col-md-12">
                    <!-- the rows of data -->
                    <div class="row nbt-bold">
                        <div class="col-md-2">Faction</div>
                        <div class="col-md-2">Team</div>
                        <div class="col-md-1">Tags</div>
                        <div class="col-md-1">Pilots</div>
                        <div class="col-md-1">Geo(s)</div>
                        <div class="col-md-2">Applicant</div>
                        <div class="col-md-1">Reset Faction</div>
                        <div class="col-md-2">Actions</div>
                    </div>
                    <div class="row" ng-repeat="appl in data._embedded.applications">
                        <div class="col-md-2">
                            <span>{{appl.faction}}</span>
                        </div>
                        <div class="col-md-2">
                            <span>{{appl.name}}</span>
                        </div>
                        <div class="col-md-1">
                            <span>{{appl.tags}}</span>
                        </div>
                        <div class="col-md-1">
                            <span>{{appl.pilots}}</span>
                        </div>
                        <div class="col-md-1">
                            <span>{{appl.geo.join(',')}}</span>
                        </div>
                        <div class="col-md-2">
                            <span>{{appl.applicant}}</span>
                        </div>
                        <div class="col-md-1">
                            <input type="checkbox" ng-model="appl.resetFaction">
                        </div>
                        <div class="col-md-2">
                            <button type="button"
                                    class="btn btn-xs"
                                    ng-class="{'btn-primary': !formError, 'btn-danger': formError}"
                                    ng-click="approve(appl)">
                                Approve
                            </button>
                        </div>
                    </div>

                    <!-- status/error message -->
                    <div class="row">
                        <div class="col-md-3"></div>
                        <div class="col-md-6 nbt-centered">
                            <span ng-show="message" ng-class="{'nbt-error': !success, 'nbt-info': success}">{{message}}</span>
                        </div>
                        <div class="col-md-3"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
